# ===================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# ===================================
#
# This file contains production-specific settings for the Inventory Management System.
# Copy this to `.env` and update with your actual production values.
#
# ⚠️  SECURITY WARNING:
# - NEVER commit .env files to version control
# - Use strong, randomly generated secrets
# - Rotate credentials regularly
# - Use environment-specific values (separate prod/staging/dev)

# ===================================
# Flask Application Settings
# ===================================

# Flask environment (production, staging, development)
FLASK_ENV=production
ENV=production

# Secret key for session encryption and CSRF tokens
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your-64-character-randomly-generated-secret-key-here-change-this

# Base URL of your application (no trailing slash)
# Used for OAuth redirect URIs and asset URLs
BASE_URL=https://yourdomain.com

# ===================================
# Database Configuration
# ===================================

# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://username:password@your-db-host.com:5432/inventory_db

# Database connection pool settings
DB_POOL_MIN=4              # Minimum connections to keep warm
DB_POOL_MAX=20             # Maximum concurrent connections
DB_CONNECT_TIMEOUT=10      # Connection timeout in seconds
DB_STATEMENT_TIMEOUT=60000 # Query timeout in milliseconds (60 seconds)

# Legacy database connection (if using individual params instead of DATABASE_URL)
# DB_HOST=your-db-host.com
# DB_NAME=inventory_db
# DB_USER=db_username
# DB_PASS=db_password
# DB_PORT=5432

# ===================================
# Google OAuth 2.0 Configuration
# ===================================

# Google OAuth credentials from Google Cloud Console
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret

# Authorized redirect URIs must include:
# https://yourdomain.com/auth/google/callback

# ===================================
# Security Settings
# ===================================

# Session cookie configuration
SESSION_COOKIE_SECURE=true           # Require HTTPS for cookies
SESSION_COOKIE_HTTPONLY=true         # Prevent JavaScript access to cookies
SESSION_COOKIE_SAMESITE=Lax          # CSRF protection (Lax or Strict)
PERMANENT_SESSION_LIFETIME=86400     # Session timeout in seconds (24 hours)

# Content Security Policy (CSP)
# Adjust based on your needs
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self' 'unsafe-inline'
CSP_STYLE_SRC='self' 'unsafe-inline'

# ===================================
# Rate Limiting (Optional)
# ===================================

# Redis connection for distributed rate limiting
# Leave empty to use in-memory rate limiting (single-server only)
RATELIMIT_STORAGE_URL=redis://localhost:6379

# Default rate limits
RATELIMIT_DEFAULT=200 per hour
RATELIMIT_LOGIN=10 per minute

# ===================================
# Logging Configuration
# ===================================

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file rotation
LOG_MAX_BYTES=10485760    # 10MB per log file
LOG_BACKUP_COUNT=30       # Keep 30 backup files

# External logging service (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# LOGZIO_TOKEN=your-logzio-token

# ===================================
# Email Configuration (Optional)
# ===================================

# SMTP settings for email notifications
# MAIL_SERVER=smtp.gmail.com
# MAIL_PORT=587
# MAIL_USE_TLS=true
# MAIL_USERNAME=your-email@example.com
# MAIL_PASSWORD=your-app-specific-password
# MAIL_DEFAULT_SENDER=noreply@yourdomain.com

# ===================================
# File Upload Configuration
# ===================================

# Maximum file upload size in bytes (16MB default)
MAX_CONTENT_LENGTH=16777216

# Allowed file extensions for uploads
ALLOWED_EXTENSIONS=jpg,jpeg,png,pdf,csv

# Upload directory (absolute path or relative to app root)
UPLOAD_FOLDER=static/uploads

# ===================================
# Worker & Performance Settings
# ===================================

# Number of Gunicorn workers (2-4 x CPU cores)
WEB_CONCURRENCY=4

# Worker timeout in seconds
WORKER_TIMEOUT=120

# Worker class (sync, gevent, eventlet)
WORKER_CLASS=sync

# ===================================
# Feature Flags (Optional)
# ===================================

# Enable/disable features
ENABLE_REGISTRATION=false        # Allow new user self-registration
ENABLE_PASSWORD_LOGIN=true       # Allow email/password login
ENABLE_OAUTH_LOGIN=true          # Allow Google OAuth login
MAINTENANCE_MODE=false           # Show maintenance page

# ===================================
# Monitoring & Observability (Optional)
# ===================================

# Application Performance Monitoring
# NEW_RELIC_LICENSE_KEY=your-new-relic-key
# NEW_RELIC_APP_NAME=Inventory Management System

# Error tracking
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# SENTRY_ENVIRONMENT=production
# SENTRY_TRACES_SAMPLE_RATE=0.1

# ===================================
# Third-Party Integrations (Optional)
# ===================================

# Cloud storage (AWS S3, Google Cloud Storage, etc.)
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_S3_BUCKET=your-bucket-name
# AWS_REGION=us-east-1

# Payment processing (if applicable)
# STRIPE_PUBLIC_KEY=pk_live_...
# STRIPE_SECRET_KEY=sk_live_...

# ===================================
# Development Overrides
# ===================================

# Override these for local development:
# FLASK_ENV=development
# BASE_URL=http://localhost:5000
# SESSION_COOKIE_SECURE=false
# LOG_LEVEL=DEBUG
