{% extends "base.html" %}
{% block title %}Add New Item{% endblock %}

{% block content %}
<div class="container">
    <datalist id="color-datalist"></datalist>
    <datalist id="size-datalist"></datalist>
    <datalist id="unit-datalist">
        <option value="Pcs"></option>
        <option value="Box"></option>
        <option value="Set"></option>
    </datalist>
    <div class="form-card" style="padding: 1.5rem;">
        <form id="item-form">
            <input type="hidden" id="item-id">
            <h2>Add New Item</h2>
            <div class="form-row">
                <div class="form-field">
                    <label for="item-name">Item Name</label>
                    <input type="text" id="item-name" list="item-name-list" required>
                </div>
                <div class="form-field">
                    <label for="item-model">Model</label>
                    <div class="input-with-buttons">
                        <select id="item-model" class="editable-select"></select>
                        <button type="button" class="button-icon edit-model-btn" aria-label="Edit model">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button type="button" class="button-icon delete-model-btn" aria-label="Delete model">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path>
                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                <line x1="14" y1="11" x2="14" y2="17"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="form-field">
                    <label for="item-variation">Variation</label>
                    <div class="input-with-buttons">
                        <select id="item-variation" class="editable-select"></select>
                        <button type="button" class="button-icon edit-variation-btn" aria-label="Edit variation">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7"></path>
                                <path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z"></path>
                            </svg>
                        </button>
                        <button type="button" class="button-icon delete-variation-btn" aria-label="Delete variation">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="3 6 5 6 21 6"></polyline>
                                <path d="M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2"></path>
                                <line x1="10" y1="11" x2="10" y2="17"></line>
                                <line x1="14" y1="11" x2="14" y2="17"></line>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="form-field">
                <label for="item-description">Description</label>
                <textarea id="item-description"></textarea>
            </div>
            <div class="form-field">
                <label for="item-image">Item Image</label>
                <input type="file" id="item-image" accept="image/*">
            </div>
            <h5>Variants</h5>
            <div id="variants-list-container">
                <div class="variants-placeholder">
                    <p>No variants added yet</p>
                    <small>Click "Add Variant" to create combinations</small>
                </div>
            </div>
            <button type="button" id="add-variant-btn" class="button create">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                Add Variant
            </button>
            <div class="form-actions">
                <button type="submit" class="button create save-item-btn">Save Item</button>
                <a href="{{ url_for('inventory') }}" class="button cancel">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}
